# ================================================================================
# CONFIGURAÇÃO: JURIS_IA_CORE_V1 (DOCKER + OLLAMA)
# ================================================================================
# Deploy P0 - Configuração de Produção
# Data: 2025-12-18
# ================================================================================

# ================================================================================
# POSTGRESQL
# ================================================================================
POSTGRES_PASSWORD=your_password_here
DATABASE_URL=your_database_url_here
POSTGRES_HOST=localhost
POSTGRES_PORT=54320
POSTGRES_DB=juris_ia
POSTGRES_USER=juris_ia_user

# ================================================================================
# REDIS
# ================================================================================
REDIS_URL=redis://redis:6379/0

# ================================================================================
# OLLAMA/LLAMA (IA LOCAL)
# ================================================================================
OLLAMA_HOST=http://ollama:11434

# Modelos recomendados para RTX 3090
EMBEDDING_MODEL=nomic-embed-text
LLM_MODEL=llama3.1:8b-instruct-q8_0

# ================================================================================
# API
# ================================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ================================================================================
# SEGURANÇA
# ================================================================================
# ATENÇÃO: SECRETS GERADOS EM 2025-12-18 PARA DEPLOY P0
JWT_SECRET_KEY=your_key_here
JWT_REFRESH_SECRET=your_secret_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ================================================================================
# FEATURE FLAGS (P0)
# ================================================================================
MODO_OAB_ENABLED=true
MODO_PROFISSIONAL_ENABLED=false
PIECE_ENGINE_ENABLED=false

# ================================================================================
# LIMITES (GO-LIVE CONTROLADO)
# ================================================================================
SESSOES_POR_DIA=3
QUESTOES_POR_SESSAO=20
PECAS_POR_SEMANA=0
MAX_USUARIOS_CADASTRADOS=50

# ================================================================================
# LOGGING
# ================================================================================
LOG_LEVEL=INFO
ENVIRONMENT=production

# ================================================================================
# FERRAMENTAS ADMINISTRATIVAS (OPCIONAL)
# ================================================================================
PGADMIN_PASSWORD=your_password_here

# ================================================================================
# PRICING - PLANOS E PREÇOS (CONFIGURÁVEL)
# ================================================================================
# Data última atualização: 2025-12-18

# Plano FREE
PLANO_FREE_PRECO_MENSAL=0.00

# Plano OAB MENSAL
PLANO_OAB_MENSAL_PRECO_MENSAL=49.90

# Plano OAB SEMESTRAL (PLANO ÂNCORA)
PLANO_OAB_SEMESTRAL_PRECO_SEMESTRAL=247.00

# Moeda padrão
PRICING_MOEDA=BRL

# ================================================================================
# MULTI-TENANT CHAT SERVER
# ================================================================================
# URL do servidor de chat centralizado (desenvolvimento)
# CHAT_SERVER_URL=http://localhost:3001

# API Key específica do Doutora IA OAB
CHAT_API_KEY=your_api_key_here

# Em produção, usar a URL do Cloudflare Tunnel:
CHAT_SERVER_URL=https://chat.doutoraia.com

# ================================================================================
# STRIPE PAYMENT INTEGRATION
# ================================================================================
# Obter chaves em: https://dashboard.stripe.com/apikeys
# IMPORTANTE: Use sk_test_*** para desenvolvimento e sk_live_*** para produção

# Chave secreta da API Stripe (OBRIGATÓRIO para pagamentos)
# Desenvolvimento: sk_test_***
# Produção: sk_live_***
STRIPE_API_KEY=your_api_key_here

# Webhook secret para validar webhooks do Stripe (OBRIGATÓRIO)
# Obter em: https://dashboard.stripe.com/webhooks
# Formato: whsec_***
STRIPE_WEBHOOK_SECRET=your_secret_here

# Price IDs dos produtos Stripe (OBRIGATÓRIOS)
# Criar produtos em: https://dashboard.stripe.com/products
# Plano Premium (R$ 49.90/mês)
STRIPE_PRICE_ID_PREMIUM=

# Plano Pro (R$ 99.90/mês)
STRIPE_PRICE_ID_PRO=

# ================================================================================
# EMAIL SERVICE (SendGrid)
# ================================================================================
# Obter API Key em: https://app.sendgrid.com/settings/api_keys
# IMPORTANTE: Necessário para emails de boas-vindas e recuperação de senha

# SendGrid API Key (OBRIGATÓRIO para envio de emails)
# Formato: SG.***
SENDGRID_API_KEY=your_api_key_here

# Email remetente (opcional, padrão: noreply@doutoraia.com)
FROM_EMAIL=noreply@doutoraia.com

# Nome do remetente (opcional, padrão: Doutora IA OAB)
FROM_NAME=Doutora IA OAB

# ================================================================================
# FRONTEND CONFIGURATION
# ================================================================================
# URL do frontend para links em emails e redirecionamentos
# Desenvolvimento: http://localhost:3005
# Produção: https://oab.doutoraia.com
FRONTEND_URL=http://localhost:3005

# ================================================================================
# CORS CONFIGURATION
# ================================================================================
# Origens permitidas para CORS (separadas por vírgula, sem espaços)
ALLOWED_ORIGINS=http://localhost:3005,http://localhost:3000,https://oab.doutoraia.com

# ================================================================================
# OPTIONAL INTEGRATIONS
# ================================================================================

# OpenAI API (opcional - apenas se quiser usar GPT além do Ollama)
# Obter em: https://platform.openai.com/api-keys
# OPENAI_API_KEY=your_api_key_here

# Sentry DSN para rastreamento de erros (opcional mas recomendado)
# Obter em: https://sentry.io
# SENTRY_DSN=

# ================================================================================
# SMTP CONFIGURATION (alternativa ao SendGrid - opcional)
# ================================================================================
# Usar apenas se não quiser usar SendGrid
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=your_password_here
# SMTP_FROM_EMAIL=noreply@doutoraia.com
